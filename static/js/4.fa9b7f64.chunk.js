(this["webpackJsonpchez-josephine"]=this["webpackJsonpchez-josephine"]||[]).push([[4],{111:function(e,t,n){"use strict";n.r(t);var c,i,r,o=n(10),l=n(0),s=n(13),d=n(4),u=n(50),j=n(59),a=n(19),b=n(5),O=n(6),v=n(3),p=O.b.div(c||(c=Object(b.a)(["\n  position: relative;\n  margin: 12px 0px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]))),x=O.b.div(i||(i=Object(b.a)(["\n  margin: 8px;\n"]))),f=O.b.button(r||(r=Object(b.a)(["\n  border: none;\n  outline: none;\n  border-radius: 50px;\n  padding: 12px;\n  background: ",";\n  :active {\n    background: black;\n  }\n"])),v.a.main),h=n(55),g=n(21),y=n(22),m=n(17),k=n(1),C=function(e){var t=e._id,n=e.product,c=Object(s.c)(y.a).token,i=Object(s.b)();return Object(k.jsxs)(p,{children:[Object(k.jsx)(x,{children:Object(k.jsx)(f,{type:"button",onClick:function(){i(Object(g.e)("editer")),i(Object(g.d)(n))},children:Object(k.jsx)(a.a,{icon:m.d,size:"2x",color:"purple"})})}),Object(k.jsx)(x,{children:Object(k.jsx)(f,{type:"button",onClick:function(){return Object(h.d)({_id:t,visible:!(null!==n&&void 0!==n&&n.visible)},i,c)},children:Object(k.jsx)(a.a,{icon:null!==n&&void 0!==n&&n.visible?m.e:m.f,size:"2x",color:"grey"})})}),Object(k.jsx)(x,{children:Object(k.jsx)(f,{type:"button",onClick:function(){return Object(h.b)(t,i,c)},children:Object(k.jsx)(a.a,{icon:m.j,size:"2x",color:"red"})})})]})},w=n(30),z=function(e){var t=e.couleur;return Object(k.jsx)(w.h,{children:t.map((function(e){return(null===e||void 0===e?void 0:e.isChecked)&&Object(k.jsx)(w.i,{className:"price wineprice",color:e.value,children:Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("span",{children:[Object(k.jsx)(a.a,{icon:m.l,size:"1x"})," :"]}),Object(k.jsxs)("span",{children:[Number(e.price).toFixed(2)," \u20ac"]})]})},e.value)}))})},E=function(e){var t=e.product,n=e.index,c=e.length,i=t._id,r=t.price,o=t.description,l=t.title,d=t.visible,u=t.category,j=t.couleur,a=Object(s.c)(y.a);return Object(k.jsxs)(w.d,{visible:"isAdmin"===(null===a||void 0===a?void 0:a.role)||d,first:"today"===u&&0===n&&c>1,children:[a&&"isAdmin"===a.role&&Object(k.jsx)(C,{_id:i,product:t}),Object(k.jsxs)("h3",{className:"title",children:[Object(k.jsx)("span",{children:"".concat(d?"":"CACH\xc9 : "," ").concat(l)}),"le-vin"!==u||j.every((function(e){return!e.isChecked}))?Object(k.jsxs)("span",{className:"price",children:[null===r||void 0===r?void 0:r.toFixed(2)," \u20ac"]}):Object(k.jsx)(z,{couleur:j})]}),Object(k.jsx)("p",{className:"description",children:o})]})},F=n(69),N=function(e){var t=e.loading,n=e.products,c=e.setFilter,i=e.filter;return Object(k.jsx)(F.a,{setFilter:c,filter:i,children:t?Object(k.jsx)(j.a,{}):null===n||void 0===n?void 0:n.map((function(e,t){return Object(k.jsxs)("div",{style:{width:"100%"},children:[(null===e||void 0===e?void 0:e.subCategory)&&Object(u.b)(e),Object(k.jsx)(E,{product:e,index:t,length:n.length})]},e._id)}))})},_=n(54);var A=function(e,t){var n=Object(s.c)(Object(_.c)(t)),c=Object(s.b)();return Object(l.useEffect)((function(){Object(h.c)(v.c,c,e)}),[c,e,t]),n},q=n(28),J=function(){var e=Object(l.useCallback)((function(e){document.querySelectorAll(".".concat(e)).forEach((function(e,t){t>0&&(null===e||void 0===e||e.remove())}))}),[]);Object(l.useLayoutEffect)((function(){(null===q.a||void 0===q.a?void 0:q.a.map((function(e){var t;return null===e||void 0===e||null===(t=e.subCategory)||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.slug}))})).filter((function(e){return void 0!==e})).flat()).forEach((function(t){return e(t)}))}))};t.default=function(e){var t=e.loading,n=e.setLoading,c=Object(d.q)().category||"today";A(n,c),J();var i=Object(l.useState)(""),r=Object(o.a)(i,2),u=r[0],j=r[1],a=Object(s.c)(Object(_.d)(u,c));return Object(l.useEffect)((function(){j("")}),[t,c]),Object(k.jsx)("main",{children:Object(k.jsx)(N,{products:a,loading:t,setFilter:j,filter:u})})}}}]);
//# sourceMappingURL=4.fa9b7f64.chunk.js.map